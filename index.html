<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./assets/css/index.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
  <title>WikiBite</title>
</head>

<body>
  <header>
    <nav>
      <div class="nav-wrapper">
        <a href="./assets/images/screenshot.png" class="brand-logo center">WikiBite</a>
        <ul id="nav-mobile" class="right"></ul>
      </div>
    </nav>
  </header>

  <main id="main">
    <form id="form-category">
      <div class="input-field">
        <select id="form-select-6" class="browser-default">
          <option value="" disabled selected>Choose your option</option>
          <!-- <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option> -->
        </select>
      </div>
    </form>

    <!-- Modal Trigger
    <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Modal</a> -->


    <div class="thumbnail-container" id="thumbnail-container"></div>
  </main>

  <!-- Modal Structure -->
  <div id="modal1" class="modal bottom-sheet">
    <div class="modal-content">
      <h4>Modal Header</h4>
      <p>A bunch of text</p>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect btn-flat">Agree</a>
    </div>
  </div>

  <footer class="page-footer">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text"><u>WikiBite</u></h5>
          <p class="grey-text text-lighten-4">Description of site</p>
        </div>
        <div class="col l4 offset-l2 s12">
          <h5 class="white-text"><u>Connect</u></h5>
          <ul>
            <li><a class="grey-text text-lighten-3" href="results.html">Link 1</a></li>
            <li><a class="grey-text text-lighten-3" href="#!">Link 2</a></li>
            <li><a class="grey-text text-lighten-3" href="#!">Link 3</a></li>
            <li><a class="grey-text text-lighten-3" href="#!">Link 4</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <p>Made by Cody, Kendra, Mike and Whitney</p>
    </div>
  </footer>

  <!-- JavaScript at end of body for optimized loading -->
  <script src="./assets/js/wiki.js"></script>
  <script src="./assets/js/modal.js"></script>
  <script src="./assets/js/dropdown.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var elems = document.querySelectorAll('select');
      var instances = M.FormSelect.init(elems);

      var elemsModal = document.querySelectorAll('.modal');
      var instancesModal = M.Modal.init(elemsModal);

      function getMealRec() {
        for (let i = 0; i < 3; i++) {
          fetch('https://www.themealdb.com/api/json/v1/1/random.php')
            .then(function (resp) {
              return resp.json();
            })
            .then(function (data) {
              console.log(data);
              if (!data || !data.meals || data.meals.length === 0) {
                console.log('No results returned');
                return;
              }
              const thumbnail = data.meals[0].strMealThumb;

              const thumbImg = document.createElement('div');
              thumbImg.classList.add('thumbnail-images');
              thumbImg.innerHTML = `
                <img src="${thumbnail}" alt="Meal Thumbnail">
              `;
              document.getElementById('thumbnail-container').appendChild(thumbImg);
            });
        }
      }
      getMealRec();
    });
  </script>
</body>

</html>